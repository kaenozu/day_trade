# 会社名表示機能の実装

## 要件
- 銘柄コード（例: 7203）だけでなく会社名（例: トヨタ自動車）も分析結果に表示する
- ユーザビリティ向上のため、分かりやすい表示形式にする

## 現状
```
📈 分析結果 (4銘柄)
======================================================================

🚀 BUY推奨 (1銘柄):
  7203(85%)

⏸️ HOLD推奨 (3銘柄):
  8306(75%) 9984(72%) 6758(68%)
```

## 目標
```
📈 分析結果 (4銘柄)
======================================================================

🚀 BUY推奨 (1銘柄):
  7203 トヨタ自動車(85%)

⏸️ HOLD推奨 (3銘柄):
  8306 三菱UFJ銀行(75%) 9984 ソフトバンクグループ(72%) 6758 ソニー(68%)
```

## 実装方法

### 1. 設定ファイル活用
- `config/settings.json` には既に会社名情報が含まれている
- 銘柄コードをキーとして会社名をマッピング

### 2. 表示フォーマット修正
ファイル: `src/day_trade/core/application.py`

#### 修正箇所1: `_display_results_compact` メソッド
```python
# 現在
stock_info = f"{symbol}({conf:.0%})"

# 修正後
company_name = self._get_company_name(symbol)
stock_info = f"{symbol} {company_name}({conf:.0%})"
```

#### 修正箇所2: 会社名取得メソッド追加
```python
def _get_company_name(self, symbol: str) -> str:
    """設定ファイルから会社名を取得"""
    try:
        # config/settings.json から会社名を検索
        for symbol_info in self.config.get('watchlist', {}).get('symbols', []):
            if symbol_info.get('code') == symbol:
                return symbol_info.get('name', symbol)
        return symbol  # フォールバック
    except:
        return symbol
```

### 3. 表示幅調整
- 会社名追加により表示が長くなるため、横幅調整が必要
- `max_width` パラメータを拡張（65 → 80文字程度）

## 期待効果
- ユーザビリティ向上（銘柄コードだけでは分からない企業も識別可能）
- より直感的な分析結果表示
- 投資判断の迅速化

## 実装優先度
**高** - ユーザーから明示的に要求された機能

## 技術的課題
- 設定ファイルの読み込み処理の追加
- 表示フォーマットの調整
- 文字数制限での見切れ対策

## テストケース
1. 既知の銘柄（設定ファイルに存在）の会社名表示
2. 未知の銘柄（設定ファイルに未登録）のフォールバック
3. 長い会社名での表示崩れチェック
4. 全推奨タイプ（BUY/SELL/HOLD/SKIP）での表示確認