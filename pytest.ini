[tool:pytest]
# Issue #850 対応：ML予測モデルのpytest設定

# テストディレクトリとファイルパターン
testpaths = .
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# 出力設定
addopts =
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    --color=yes
    --durations=10

# マーカー定義
markers =
    asyncio: 非同期テスト
    integration: 統合テスト
    unit: 単体テスト
    slow: 実行時間が長いテスト
    requires_sklearn: scikit-learnが必要なテスト
    requires_xgboost: XGBoostが必要なテスト
    requires_lightgbm: LightGBMが必要なテスト

# 非同期テスト設定
asyncio_mode = auto

# テストカバレッジ除外パターン
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::UserWarning:sklearn.*
    ignore::UserWarning:xgboost.*
    ignore::UserWarning:lightgbm.*
    ignore::FutureWarning:pandas.*

# 最小テスト実行時間（秒）
minversion = 6.0
