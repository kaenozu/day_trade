# デイトレード支援アプリ仕様書

## 1. 概要

### 1.1 アプリケーション名
デイトレード支援アプリ

### 1.2 目的
個人投資家向けのデイトレード支援ツールとして、リアルタイムの株価情報の取得、テクニカル分析、売買判断支援、取引記録管理などの機能を提供し、効率的な投資活動をサポートする。

### 1.3 ターゲットユーザー
- 個人投資家（デイトレーダー）
- 短期売買を行う投資家
- テクニカル分析を重視する投資家

## 2. 機能要件

### 2.1 株価情報管理機能
- **リアルタイム株価取得**
  - 東証上場銘柄の株価をリアルタイムで取得
  - 板情報の表示
  - 歩み値の表示
- **銘柄検索**
  - 証券コード、銘柄名での検索
  - セクター別検索
- **ウォッチリスト管理**
  - お気に入り銘柄の登録・削除
  - ウォッチリスト内銘柄の一覧表示
  - アラート設定

### 2.2 チャート分析機能
- **各種チャート表示**
  - ローソク足チャート（1分、5分、15分、30分、60分、日足）
  - 出来高チャート
- **テクニカル指標**
  - 移動平均線（SMA、EMA）
  - ボリンジャーバンド
  - MACD
  - RSI
  - ストキャスティクス
- **描画ツール**
  - トレンドライン
  - 水平線
  - フィボナッチリトレースメント

### 2.3 売買支援機能
- **売買シグナル**
  - テクニカル指標に基づくシグナル表示
  - カスタムルールの設定
- **リスク管理**
  - 損切りライン自動計算
  - ポジションサイジング支援
  - リスクリワード比の表示
- **模擬取引（バックテスト）**
  - 過去データでの売買戦略検証
  - パフォーマンス分析

### 2.4 取引記録管理
- **取引履歴**
  - 売買履歴の記録
  - 損益計算
  - 勝率・平均利益率の表示
- **取引日記**
  - 取引メモの記録
  - スクリーンショット保存
  - タグ付け機能
- **レポート機能**
  - 日次・週次・月次レポート
  - パフォーマンス分析レポート
  - 税金計算サポート

### 2.5 アラート機能
- **価格アラート**
  - 指定価格到達時の通知
  - 騰落率アラート
- **テクニカルアラート**
  - ゴールデンクロス・デッドクロス
  - ブレイクアウト検知
- **通知方法**
  - アプリ内通知
  - メール通知
  - プッシュ通知

## 3. 非機能要件

### 3.1 パフォーマンス要件
- 株価更新頻度：1秒以内
- チャート描画：100ms以内
- 画面遷移：300ms以内
- 同時接続ユーザー数：1,000人

### 3.2 セキュリティ要件
- ユーザー認証（多要素認証対応）
- 通信の暗号化（SSL/TLS）
- APIキーの安全な管理
- セッション管理

### 3.3 可用性要件
- サービス稼働率：99.9%以上
- バックアップ：日次
- 障害復旧時間：1時間以内

### 3.4 互換性要件
- **対応ブラウザ**
  - Chrome（最新版）
  - Firefox（最新版）
  - Safari（最新版）
  - Edge（最新版）
- **対応デバイス**
  - PC（Windows、Mac）
  - タブレット（iPad、Android）
  - スマートフォン（iPhone、Android）

## 4. 技術仕様

### 4.1 アーキテクチャ
- 実装言語：Python 3.10+
- CUIフレームワーク：Rich / Click
- データベース：SQLite（ローカル）
- 株価データ取得：yfinance / pandas-datareader
- テクニカル分析：TA-Lib / pandas

### 4.2 外部連携
- 株価データAPI（証券会社API）
- 認証サービス（Auth0等）
- 決済サービス（Stripe等）

### 4.3 開発環境
- バージョン管理：Git（GitHub）
- CI/CD：GitHub Actions
- コンテナ：Docker
- クラウド：AWS

## 5. 画面構成

### 5.1 主要画面
1. **ダッシュボード**
   - ポートフォリオサマリー
   - ウォッチリスト
   - マーケット概況

2. **銘柄詳細画面**
   - チャート表示エリア
   - 板情報
   - 銘柄情報
   - 売買ボタン

3. **取引履歴画面**
   - 取引一覧
   - フィルター機能
   - 集計情報

4. **分析画面**
   - バックテスト設定
   - 結果表示
   - レポート出力

5. **設定画面**
   - ユーザー情報
   - アラート設定
   - API連携設定

## 6. データモデル

### 6.1 主要エンティティ
- ユーザー（User）
- 銘柄（Stock）
- 取引（Trade）
- ウォッチリスト（Watchlist）
- アラート（Alert）
- 価格データ（PriceData）

## 7. 開発フェーズ

### Phase 1：基本機能（3ヶ月）
- ユーザー認証
- 銘柄検索・表示
- 基本的なチャート表示

### Phase 2：分析機能（2ヶ月）
- テクニカル指標
- 売買シグナル
- バックテスト

### Phase 3：高度な機能（2ヶ月）
- リアルタイム更新
- アラート機能
- レポート機能

### Phase 4：最適化（1ヶ月）
- パフォーマンス改善
- UI/UX改善
- バグ修正

## 8. 将来の拡張計画
- AI/機械学習による売買推奨
- ソーシャル機能（投資家コミュニティ）
- 自動売買機能
- 仮想通貨対応
- 海外市場対応
