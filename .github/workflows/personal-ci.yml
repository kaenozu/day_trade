# Day Trade Personal - å€‹äººåˆ©ç”¨å°‚ç”¨CI
name: Personal CI

on:
  push:
    branches: [ main, develop, feature/* ]
  pull_request:
    branches: [ main ]

jobs:
  # å€‹äººç‰ˆåŸºæœ¬ãƒ†ã‚¹ãƒˆ
  basic-test:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'

    - name: Install basic dependencies
      run: |
        python -m pip install --upgrade pip
        pip install numpy pandas pytest

    - name: Test personal daytrade.py
      run: |
        echo "ğŸ§ª å€‹äººç‰ˆã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆé–‹å§‹"
        python daytrade.py --help
        echo "âœ… å€‹äººç‰ˆã‚·ã‚¹ãƒ†ãƒ æ­£å¸¸å‹•ä½œç¢ºèª"

  # ã‚³ãƒ¼ãƒ‰å“è³ªç°¡æ˜“ãƒã‚§ãƒƒã‚¯
  code-quality:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'

    - name: Install quality tools
      run: |
        python -m pip install --upgrade pip
        pip install ruff black

    - name: Run basic quality checks
      run: |
        echo "ğŸ” ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ"
        ruff check . --exit-zero
        black --check . --diff || true
        echo "âœ… ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯å®Œäº†"