# Day Trade Personal - 個人利用専用CI
name: Personal CI

on:
  push:
    branches: [ main, develop, feature/* ]
  pull_request:
    branches: [ main ]

jobs:
  # 個人版基本テスト
  basic-test:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'

    - name: Install basic dependencies
      run: |
        python -m pip install --upgrade pip
        pip install numpy pandas pytest

    - name: Test personal daytrade.py
      run: |
        echo "🧪 個人版システムテスト開始"
        python daytrade.py --help
        echo "✅ 個人版システム正常動作確認"

  # コード品質簡易チェック
  code-quality:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.9'

    - name: Install quality tools
      run: |
        python -m pip install --upgrade pip
        pip install ruff black

    - name: Run basic quality checks
      run: |
        echo "🔍 コード品質チェック実行"
        ruff check . --exit-zero
        black --check . --diff || true
        echo "✅ コード品質チェック完了"