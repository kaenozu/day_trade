# 高度ウェブダッシュボード設定
# Issue #871対応：ウェブダッシュボード機能拡張

# サーバー設定
server:
  host: "localhost"
  port: 5000
  debug: false
  secret_key: "${ADVANCED_DASHBOARD_SECRET_KEY:-please_set_environment_variable}"

# WebSocket設定
websocket:
  cors_allowed_origins: "*"
  ping_timeout: 60
  ping_interval: 25

# リアルタイムデータ設定
realtime:
  # 更新間隔
  update_intervals:
    default: 5          # デフォルト更新間隔（秒）
    fast: 1            # 高速更新間隔（秒）
    slow: 30           # 低速更新間隔（秒）

  # データソース設定
  data_sources:
    primary: "yahoo_finance"
    secondary: "stooq"
    fallback: "mock"

  # キャッシュ設定
  cache:
    enabled: true
    ttl_seconds: 30
    max_size: 1000

# ダッシュボードレイアウト
layout:
  # デフォルトテーマ
  default_theme: "dark"

  # グリッドシステム
  grid:
    columns: 12
    gap: 20

  # ウィジェット設定
  widgets:
    price_chart:
      enabled: true
      default_position: {row: 1, col: 1}
      default_size: {width: 6, height: 2}
      update_interval: 5

    prediction_panel:
      enabled: true
      default_position: {row: 1, col: 7}
      default_size: {width: 6, height: 2}
      update_interval: 10

    technical_indicators:
      enabled: true
      default_position: {row: 3, col: 1}
      default_size: {width: 4, height: 2}
      indicators: ["RSI", "MACD", "SMA", "Volume"]

    sentiment_analysis:
      enabled: true
      default_position: {row: 3, col: 5}
      default_size: {width: 4, height: 2}
      components: ["gauge", "factors", "trend"]

    risk_metrics:
      enabled: true
      default_position: {row: 3, col: 9}
      default_size: {width: 4, height: 2}
      metrics: ["VaR", "Volatility", "Sharpe", "MaxDrawdown"]

    performance_monitor:
      enabled: true
      default_position: {row: 5, col: 1}
      default_size: {width: 6, height: 2}
      show_models: true

    system_health:
      enabled: true
      default_position: {row: 5, col: 7}
      default_size: {width: 6, height: 2}
      auto_refresh: 30

# データ統合設定
integration:
  # 既存システム統合
  systems:
    accuracy_enhancement:
      enabled: true
      timeout_seconds: 30
      cache_results: true

    next_morning_trading:
      enabled: true
      timeout_seconds: 15
      auto_refresh_predictions: true

    performance_monitor:
      enabled: true
      monitoring_interval: 60
      alert_thresholds:
        accuracy_drop: 0.05
        confidence_low: 0.6

    data_quality_monitor:
      enabled: true
      quality_threshold: 70.0
      auto_validation: true

    multi_timeframe_predictor:
      enabled: true
      timeframes: ["daily", "weekly", "monthly"]

  # API設定
  api:
    base_url: ""
    timeout_seconds: 30
    retry_count: 3
    rate_limit: 100

# ウォッチリスト設定
watchlist:
  # デフォルト銘柄
  default_symbols: ["7203", "4751", "9984", "8306", "2914"]

  # 表示設定
  display:
    show_company_name: true
    show_sector: false
    show_market_cap: false

  # 更新設定
  auto_update: true
  update_interval: 5

  # 分類
  categories:
    large_cap: ["7203", "8306", "9984"]
    growth: ["4751", "2914"]
    tech: ["4751", "9984"]

# アラート・通知設定
alerts:
  # 価格変動アラート
  price_alerts:
    enabled: true
    thresholds:
      minor: 2.0      # 2%変動
      major: 5.0      # 5%変動
      critical: 10.0  # 10%変動

  # 予測アラート
  prediction_alerts:
    enabled: true
    confidence_threshold: 0.8
    direction_change: true

  # システムアラート
  system_alerts:
    enabled: true
    health_check_interval: 300
    component_failure: true

  # 通知方法
  notifications:
    browser_notifications: true
    sound_alerts: true
    email_notifications: false
    webhook_notifications: false

# チャート設定
charts:
  # 価格チャート
  price_chart:
    type: "candlestick"
    timeframe: "1d"
    indicators: ["SMA20", "Volume"]
    height: 400

  # センチメントゲージ
  sentiment_gauge:
    type: "gauge"
    range: [-1, 1]
    colors:
      negative: "#ef4444"
      neutral: "#6b7280"
      positive: "#10b981"

  # パフォーマンスチャート
  performance_chart:
    type: "line"
    metrics: ["accuracy", "confidence"]
    timeframe: "7d"

# カスタマイズ設定
customization:
  # ユーザー設定保存
  user_settings:
    enabled: true
    save_location: "config/user_dashboard_configs.json"
    auto_save: true

  # テーマ設定
  themes:
    dark:
      primary_color: "#1e3a8a"
      secondary_color: "#3b82f6"
      background_color: "#1f2937"
      text_color: "#f9fafb"

    light:
      primary_color: "#2563eb"
      secondary_color: "#60a5fa"
      background_color: "#ffffff"
      text_color: "#1f2937"

  # レイアウト設定
  layout_options:
    sidebar_position: ["left", "right", "hidden"]
    widget_sizes: ["small", "medium", "large", "full"]
    grid_responsive: true

# パフォーマンス設定
performance:
  # キャッシュ設定
  caching:
    enabled: true
    redis_url: null  # Redisが利用可能な場合
    memory_cache_size: 100

  # データ圧縮
  compression:
    enabled: true
    algorithm: "gzip"
    level: 6

  # レート制限
  rate_limiting:
    enabled: true
    requests_per_minute: 100
    burst_limit: 20

# セキュリティ設定
security:
  # CORS設定
  cors:
    enabled: true
    allowed_origins: ["http://localhost:3000", "http://127.0.0.1:3000"]
    allowed_methods: ["GET", "POST", "PUT", "DELETE"]

  # 認証設定（将来拡張用）
  authentication:
    enabled: false
    session_timeout: 3600
    max_concurrent_sessions: 5

  # CSRFプロテクション
  csrf:
    enabled: false  # 開発環境では無効
    secret_key: "${CSRF_SECRET_KEY:-please_set_environment_variable}"

# ログ設定
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

  # ファイル出力
  files:
    access: "logs/dashboard_access.log"
    error: "logs/dashboard_error.log"
    websocket: "logs/dashboard_websocket.log"

  # ローテーション
  rotation:
    enabled: true
    max_size_mb: 10
    backup_count: 5

# モニタリング・メトリクス
monitoring:
  # システムメトリクス
  system_metrics:
    enabled: true
    collection_interval: 60
    metrics: ["cpu", "memory", "disk", "network"]

  # アプリケーションメトリクス
  app_metrics:
    enabled: true
    track_requests: true
    track_response_times: true
    track_websocket_connections: true

  # アラート
  monitoring_alerts:
    cpu_threshold: 80
    memory_threshold: 85
    response_time_threshold: 1000

# 実験的機能
experimental:
  # AI分析強化
  ai_analysis:
    enabled: false
    model: "gpt-3.5-turbo"
    max_tokens: 500

  # 音声アラート
  voice_alerts:
    enabled: false
    language: "ja-JP"
    voice: "female"

  # モバイル最適化
  mobile_optimization:
    enabled: true
    responsive_breakpoints: [768, 1024, 1280]
    touch_gestures: true

# 開発・デバッグ設定
development:
  # デバッグモード
  debug_mode: false

  # 模擬データ
  mock_data:
    enabled: true
    realistic_movements: true
    random_seed: 42

  # プロファイリング
  profiling:
    enabled: false
    output_directory: "logs/profiling"

  # ホットリロード
  hot_reload:
    enabled: false
    watch_templates: true
    watch_static: true