# Day Trade - è‡ªå‹•ãƒ‡ã‚¤ãƒˆãƒ¬ãƒ¼ãƒ‰æ”¯æ´ã‚·ã‚¹ãƒ†ãƒ 

[![CI/CD Pipeline](https://github.com/kaenozu/day_trade/actions/workflows/optimized-ci.yml/badge.svg)](https://github.com/kaenozu/day_trade/actions/workflows/optimized-ci.yml)
[![Pre-commit Checks](https://github.com/kaenozu/day_trade/actions/workflows/pre-commit.yml/badge.svg)](https://github.com/kaenozu/day_trade/actions/workflows/pre-commit.yml)
[![Conflict Detection](https://github.com/kaenozu/day_trade/actions/workflows/conflict-detection.yml/badge.svg)](https://github.com/kaenozu/day_trade/actions/workflows/conflict-detection.yml)
[![codecov](https://codecov.io/gh/kaenozu/day_trade/branch/main/graph/badge.svg)](https://codecov.io/gh/kaenozu/day_trade)
[![Test Coverage](https://img.shields.io/badge/coverage-37.5%25-orange.svg)](https://github.com/kaenozu/day_trade/tree/main/reports/coverage)
[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

**é«˜åº¦ãªã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«æˆ¦ç•¥ã‚’ç”¨ã„ãŸè‡ªå‹•ãƒ‡ã‚¤ãƒˆãƒ¬ãƒ¼ãƒ‰æ”¯æ´ã‚·ã‚¹ãƒ†ãƒ **

Day Tradeã¯ã€è¤‡æ•°ã®ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†ææ‰‹æ³•ã‚’çµ„ã¿åˆã‚ã›ãŸã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«æˆ¦ç•¥ã«ã‚ˆã‚Šã€åŠ¹ç‡çš„ãªæ ªå¼å–å¼•ã®æ„æ€æ±ºå®šã‚’æ”¯æ´ã™ã‚‹Pythonã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿å–å¾—ã€é«˜åº¦ãªåˆ†ææ©Ÿèƒ½ã€è‡ªå‹•åŒ–ã•ã‚ŒãŸå–å¼•ç®¡ç†ã‚’æä¾›ã—ã¾ã™ã€‚

## ğŸš€ ä¸»ãªæ©Ÿèƒ½

### ğŸ“Š ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»ç®¡ç†
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ ªä¾¡ãƒ‡ãƒ¼ã‚¿å–å¾—** (yfinance APIçµ±åˆ)
- **éŠ˜æŸ„ãƒã‚¹ã‚¿ãƒ¼ç®¡ç†** (æ±è¨¼éŠ˜æŸ„æƒ…å ±ã®è‡ªå‹•æ›´æ–°)
- **SQLAlchemyåŸºç›¤ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†**
- **ãƒ‡ãƒ¼ã‚¿ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½** (ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–)

### ğŸ” é«˜åº¦ãªãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æ
- **ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«æˆ¦ç•¥ã‚¨ãƒ³ã‚¸ãƒ³** (è¤‡æ•°æŒ‡æ¨™ã®çµ±åˆåˆ¤å®š)
- **ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™è¨ˆç®—** (RSI, MACD, ãƒœãƒªãƒ³ã‚¸ãƒ£ãƒ¼ãƒãƒ³ãƒ‰ç­‰)
- **ãƒ‘ã‚¿ãƒ¼ãƒ³èªè­˜** (ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æ, ã‚µãƒãƒ¼ãƒˆ/ãƒ¬ã‚¸ã‚¹ã‚¿ãƒ³ã‚¹)
- **ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£åˆ†æ** (ATR, VIXç›¸é–¢)
- **å‡ºæ¥é«˜åˆ†æ** (VWAP, OBV)

### ğŸ¯ å£²è²·åˆ¤å®šãƒ»ç®¡ç†
- **çµ±åˆã‚·ã‚°ãƒŠãƒ«ç”Ÿæˆ** (è¤‡æ•°æˆ¦ç•¥ã®é‡ã¿ä»˜ã‘è©•ä¾¡)
- **ãƒªã‚¹ã‚¯ç®¡ç†æ©Ÿèƒ½** (ã‚¹ãƒˆãƒƒãƒ—ãƒ­ã‚¹, ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚µã‚¤ã‚¸ãƒ³ã‚°)
- **ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªæœ€é©åŒ–** (åˆ†æ•£æŠ•è³‡, ãƒªãƒãƒ©ãƒ³ã‚·ãƒ³ã‚°)
- **å–å¼•å±¥æ­´ç®¡ç†** (ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¿½è·¡)

### ğŸ–¥ï¸ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–CLI** (rich/prompt_toolkitä½¿ç”¨)
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰** (ä¾¡æ ¼ç›£è¦–, ã‚¢ãƒ©ãƒ¼ãƒˆ)
- **è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ** (HTML/JSON/CSVå‡ºåŠ›)
- **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ãªã‚¢ãƒ©ãƒ¼ãƒˆ**

### ğŸ¤– è‡ªå‹•åŒ–æ©Ÿèƒ½
- **ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ** (æˆ¦ç•¥æ¤œè¨¼)
- **è‡ªå‹•ã‚¹ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°** (æŠ•è³‡æ©Ÿä¼šç™ºè¦‹)
- **å®šæœŸãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ**
- **ã‚¢ãƒ©ãƒ¼ãƒˆé€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ **

## ğŸ“¦ ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### å¿…è¦æ¡ä»¶
- Python 3.8ä»¥ä¸Š
- pip (ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†)
- Git

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/kaenozu/day_trade.git
cd day_trade

# ä»®æƒ³ç’°å¢ƒã®ä½œæˆï¼ˆæ¨å¥¨ï¼‰
python -m venv venv

# ä»®æƒ³ç’°å¢ƒã®æœ‰åŠ¹åŒ–
# Windows
venv\Scripts\activate
# Linux/macOS
source venv/bin/activate

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆæ¨å¥¨ï¼‰
pip install -e .[dev]

# ã¾ãŸã¯ã€requirementsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨
pip install -r requirements.txt -r requirements-dev.txt
```

### é–‹ç™ºè€…å‘ã‘ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# pre-commitãƒ•ãƒƒã‚¯ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pre-commit install

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®åˆæœŸåŒ–
python -m day_trade.models.database --init

# å‹•ä½œç¢ºèª
pytest
python -m day_trade.cli.main --help
```

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

```bash
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®èµ·å‹•ï¼ˆã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰ï¼‰
python -m day_trade.cli.main

# ã¾ãŸã¯
daytrade

# ãƒ˜ãƒ«ãƒ—ã®è¡¨ç¤º
daytrade --help
```

### ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ä½¿ç”¨ä¾‹

```bash
# ç‰¹å®šéŠ˜æŸ„ã®åˆ†æ
daytrade analyze 7203  # ãƒˆãƒ¨ã‚¿è‡ªå‹•è»Š

# ã‚¦ã‚©ãƒƒãƒãƒªã‚¹ãƒˆç®¡ç†
daytrade watchlist add 7203 6758 4755
daytrade watchlist show

# ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªåˆ†æ
daytrade portfolio analyze

# ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
daytrade backtest --start-date 2024-01-01 --end-date 2024-12-31

# ã‚¹ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°å®Ÿè¡Œ
daytrade screen --strategy momentum --min-volume 1000000

# ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
daytrade report --type portfolio --format html
```

### ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰ã®æ©Ÿèƒ½

ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰ã§ã¯ä»¥ä¸‹ã®æ©Ÿèƒ½ãŒåˆ©ç”¨ã§ãã¾ã™ï¼š

- ğŸ“ˆ **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä¾¡æ ¼ç›£è¦–**
- ğŸ” **éŠ˜æŸ„æ¤œç´¢ãƒ»åˆ†æ**
- ğŸ“Š **ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªç®¡ç†**
- âš¡ **ã‚¯ã‚¤ãƒƒã‚¯å£²è²·åˆ¤å®š**
- ğŸ“‹ **ã‚¦ã‚©ãƒƒãƒãƒªã‚¹ãƒˆæ“ä½œ**
- ğŸ¯ **ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š**

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
day_trade/
â”œâ”€â”€ src/day_trade/                    # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ analysis/                     # åˆ†æã‚¨ãƒ³ã‚¸ãƒ³
â”‚   â”‚   â”œâ”€â”€ ensemble.py               # ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«æˆ¦ç•¥ã‚³ã‚¢
â”‚   â”‚   â”œâ”€â”€ enhanced_ensemble.py      # å¼·åŒ–ã•ã‚ŒãŸã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«æ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ indicators.py             # ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™è¨ˆç®—
â”‚   â”‚   â”œâ”€â”€ patterns.py               # ãƒãƒ£ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³èªè­˜
â”‚   â”‚   â”œâ”€â”€ signals.py                # å£²è²·ã‚·ã‚°ãƒŠãƒ«ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ backtest.py               # ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆæ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ screener.py               # éŠ˜æŸ„ã‚¹ã‚¯ãƒªãƒ¼ãƒ‹ãƒ³ã‚°
â”‚   â”‚   â””â”€â”€ ml_models.py              # æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«
â”‚   â”œâ”€â”€ automation/                   # è‡ªå‹•åŒ–ãƒ»ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”‚   â”œâ”€â”€ orchestrator.py           # è‡ªå‹•åŒ–ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¿
â”‚   â”‚   â””â”€â”€ optimized_orchestrator.py # æœ€é©åŒ–ã•ã‚ŒãŸè‡ªå‹•å®Ÿè¡Œ
â”‚   â”œâ”€â”€ cli/                          # ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
â”‚   â”‚   â”œâ”€â”€ main.py                   # ãƒ¡ã‚¤ãƒ³CLIã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ enhanced_main.py          # æ‹¡å¼µCLIã‚³ãƒãƒ³ãƒ‰
â”‚   â”‚   â”œâ”€â”€ interactive.py            # ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰
â”‚   â”‚   â””â”€â”€ watchlist_commands.py     # ã‚¦ã‚©ãƒƒãƒãƒªã‚¹ãƒˆæ“ä½œ
â”‚   â”œâ”€â”€ core/                         # ã‚³ã‚¢æ©Ÿèƒ½ãƒ»ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ portfolio.py              # ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªç®¡ç†
â”‚   â”‚   â”œâ”€â”€ trade_manager.py          # å–å¼•ç®¡ç†ãƒ»å®Ÿè¡Œ
â”‚   â”‚   â”œâ”€â”€ trade_operations.py       # å–å¼•æ“ä½œè©³ç´°
â”‚   â”‚   â”œâ”€â”€ watchlist.py              # ã‚¦ã‚©ãƒƒãƒãƒªã‚¹ãƒˆç®¡ç†
â”‚   â”‚   â”œâ”€â”€ alerts.py                 # ã‚¢ãƒ©ãƒ¼ãƒˆãƒ»é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”‚   â””â”€â”€ config.py                 # è¨­å®šç®¡ç†
â”‚   â”œâ”€â”€ data/                         # ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ stock_fetcher.py          # æ ªä¾¡ãƒ‡ãƒ¼ã‚¿å–å¾—
â”‚   â”‚   â”œâ”€â”€ enhanced_stock_fetcher.py # å¼·åŒ–ãƒ‡ãƒ¼ã‚¿å–å¾—æ©Ÿèƒ½
â”‚   â”‚   â””â”€â”€ stock_master.py           # éŠ˜æŸ„ãƒã‚¹ã‚¿ãƒ¼ç®¡ç†
â”‚   â”œâ”€â”€ models/                       # ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ãƒ»æ°¸ç¶šåŒ–
â”‚   â”‚   â”œâ”€â”€ database.py               # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ optimized_database.py     # æœ€é©åŒ–DBæ“ä½œ
â”‚   â”‚   â”œâ”€â”€ stock.py                  # æ ªå¼ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«
â”‚   â”‚   â””â”€â”€ base.py                   # ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«å®šç¾©
â”‚   â”œâ”€â”€ utils/                        # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»å…±é€šæ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ logging_config.py         # ãƒ­ã‚°è¨­å®š
â”‚   â”‚   â”œâ”€â”€ cache_utils.py            # ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½
â”‚   â”‚   â”œâ”€â”€ validators.py             # ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼
â”‚   â”‚   â”œâ”€â”€ formatters.py             # å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
â”‚   â”‚   â”œâ”€â”€ exceptions.py             # ã‚«ã‚¹ã‚¿ãƒ ä¾‹å¤–
â”‚   â”‚   â”œâ”€â”€ performance_analyzer.py   # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ
â”‚   â”‚   â”œâ”€â”€ transaction_manager.py    # ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†
â”‚   â”‚   â””â”€â”€ api_resilience.py         # APIè€æ€§æ©Ÿèƒ½
â”‚   â””â”€â”€ config/                       # è¨­å®šç®¡ç†
â”‚       â””â”€â”€ config_manager.py         # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†
â”œâ”€â”€ tests/                           # ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ test_*.py                    # ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ integration/                 # çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚       â”œâ”€â”€ test_end_to_end_workflow.py # E2Eãƒ†ã‚¹ãƒˆ
â”‚       â””â”€â”€ conftest.py              # ãƒ†ã‚¹ãƒˆè¨­å®š
â”œâ”€â”€ docs/                            # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ api_resilience.md            # APIè€æ€§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ ensemble_strategy.md         # ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«æˆ¦ç•¥
â”‚   â”œâ”€â”€ implementation_plan.md       # å®Ÿè£…è¨ˆç”»
â”‚   â”œâ”€â”€ interactive_mode.md          # ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ structured_logging.md        # ãƒ­ã‚°ç®¡ç†
â”‚   â””â”€â”€ transaction_management.md    # ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†
â”œâ”€â”€ config/                          # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ settings.json                # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨èˆ¬è¨­å®š
â”‚   â”œâ”€â”€ indicators_config.json       # ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ signal_rules.json            # ã‚·ã‚°ãƒŠãƒ«ç”Ÿæˆãƒ«ãƒ¼ãƒ«
â”‚   â””â”€â”€ test_settings.json           # ãƒ†ã‚¹ãƒˆç’°å¢ƒè¨­å®š
â”œâ”€â”€ scripts/                         # é‹ç”¨ãƒ»é–‹ç™ºã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ coverage_goals.py            # ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™ç®¡ç†
â”‚   â”œâ”€â”€ coverage_report.py           # ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
â”‚   â””â”€â”€ dependency_manager.py        # ä¾å­˜é–¢ä¿‚ç®¡ç†
â”œâ”€â”€ reports/                         # ç”Ÿæˆãƒ¬ãƒãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ coverage/                    # ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ
â”‚   â”œâ”€â”€ dependencies/                # ä¾å­˜é–¢ä¿‚ãƒ¬ãƒãƒ¼ãƒˆ
â”‚   â””â”€â”€ logging/                     # ãƒ­ã‚°åˆ†æçµæœ
â”œâ”€â”€ .github/workflows/               # CI/CDãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
â”‚   â”œâ”€â”€ optimized-ci.yml             # æœ€é©åŒ–CIãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
â”‚   â”œâ”€â”€ pre-commit.yml               # Pre-commitãƒã‚§ãƒƒã‚¯
â”‚   â””â”€â”€ conflict-detection.yml       # ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆæ¤œå‡º
â””â”€â”€ alembic/                         # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
    â”œâ”€â”€ versions/                    # ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«
    â””â”€â”€ env.py                       # Alembicè¨­å®š
```

### ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è©³ç´°èª¬æ˜

#### ğŸ“Š Analysis ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- **ensemble.py**: è¤‡æ•°ã®æŒ‡æ¨™ã‚’çµ±åˆã—ãŸã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«æˆ¦ç•¥ã®å®Ÿè£…
- **indicators.py**: RSI, MACD, ãƒœãƒªãƒ³ã‚¸ãƒ£ãƒ¼ãƒãƒ³ãƒ‰ç­‰ã®ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™
- **patterns.py**: ãƒãƒ£ãƒ¼ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆä¸‰è§’æŒã¡åˆã„ã€ãƒ˜ãƒƒãƒ‰ã‚¢ãƒ³ãƒ‰ã‚·ãƒ§ãƒ«ãƒ€ãƒ¼ç­‰ï¼‰
- **signals.py**: è²·ã„/å£²ã‚Šã‚·ã‚°ãƒŠãƒ«ã®ç”Ÿæˆã¨è©•ä¾¡
- **backtest.py**: æˆ¦ç•¥ã®éå»ãƒ‡ãƒ¼ã‚¿ã§ã®æ¤œè¨¼æ©Ÿèƒ½

#### ğŸ”„ Core ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- **portfolio.py**: ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã®æ§‹ç¯‰ãƒ»ç®¡ç†ãƒ»æœ€é©åŒ–
- **trade_manager.py**: æ³¨æ–‡ç®¡ç†ã€ãƒªã‚¹ã‚¯ç®¡ç†ã€ãƒã‚¸ã‚·ãƒ§ãƒ³è¿½è·¡
- **watchlist.py**: ç›£è¦–éŠ˜æŸ„ã®ç®¡ç†ã¨ã‚¢ãƒ©ãƒ¼ãƒˆè¨­å®š

#### ğŸ’¾ Data ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- **stock_fetcher.py**: yfinanceç­‰ã‹ã‚‰ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‡ãƒ¼ã‚¿å–å¾—
- **stock_master.py**: éŠ˜æŸ„ãƒã‚¹ã‚¿ãƒ¼æƒ…å ±ã®ç®¡ç†ã¨æ›´æ–°

#### ğŸ› ï¸ Utils ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- **transaction_manager.py**: é«˜åº¦ãªãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†ã¨æœ€é©åŒ–
- **api_resilience.py**: APIéšœå®³æ™‚ã®è€æ€§ãƒ»ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½
- **cache_utils.py**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã®ãŸã‚ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½

## ğŸƒâ€â™‚ï¸ é–‹ç™ºè€…å‘ã‘ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. ç’°å¢ƒæ§‹ç¯‰ï¼ˆ5åˆ†ï¼‰
```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/kaenozu/day_trade.git
cd day_trade

# ä»®æƒ³ç’°å¢ƒä½œæˆãƒ»æœ‰åŠ¹åŒ–
python -m venv venv
venv\Scripts\activate  # Windows
# source venv/bin/activate  # Linux/macOS

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -e .[dev]

# Pre-commitã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
pre-commit install
```

### 2. å‹•ä½œç¢ºèªï¼ˆ3åˆ†ï¼‰
```bash
# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pytest

# ã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèª
pytest --cov=src/day_trade --cov-report=html

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•
python -m day_trade.cli.main --help
```

### 3. é–‹ç™ºé–‹å§‹ï¼ˆå³åº§ã«ï¼‰
```bash
# æ–°æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
git checkout -b feature/your-feature

# é–‹ç™ºä½œæ¥­
# ... ã‚³ãƒ¼ãƒ‰å¤‰æ›´ ...

# å“è³ªãƒã‚§ãƒƒã‚¯
ruff check . --fix
pytest

# ã‚³ãƒŸãƒƒãƒˆï¼ˆpre-commitãŒè‡ªå‹•å®Ÿè¡Œï¼‰
git add .
git commit -m "feat: æ–°æ©Ÿèƒ½ã®èª¬æ˜"

# ãƒ—ãƒƒã‚·ãƒ¥ãƒ»ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
git push origin feature/your-feature
gh pr create
```

### 4. ä¸»è¦ãªé–‹ç™ºã‚¿ã‚¹ã‚¯

#### æ–°ã—ã„ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™ã®è¿½åŠ 
```python
# src/day_trade/analysis/indicators.py ã«è¿½åŠ 
def your_indicator(data: pd.DataFrame, period: int = 14) -> pd.Series:
    """æ–°ã—ã„ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™ã®å®Ÿè£…"""
    # å®Ÿè£…ã‚³ãƒ¼ãƒ‰
    return result

# tests/test_indicators.py ã«ãƒ†ã‚¹ãƒˆè¿½åŠ 
def test_your_indicator():
    # ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
    pass
```

#### æ–°ã—ã„æˆ¦ç•¥ã®å®Ÿè£…
```python
# src/day_trade/analysis/ensemble.py ã«è¿½åŠ 
class YourStrategy(BaseStrategy):
    """æ–°ã—ã„æˆ¦ç•¥ã®å®Ÿè£…"""

    def generate_signal(self, data: pd.DataFrame) -> Signal:
        # ã‚·ã‚°ãƒŠãƒ«ç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯
        pass
```

#### CLI ã‚³ãƒãƒ³ãƒ‰ã®è¿½åŠ 
```python
# src/day_trade/cli/main.py ã«è¿½åŠ 
@cli.command()
@click.option('--param', help='ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®èª¬æ˜')
def your_command(param):
    """æ–°ã—ã„ã‚³ãƒãƒ³ãƒ‰ã®èª¬æ˜"""
    # ã‚³ãƒãƒ³ãƒ‰å®Ÿè£…
    pass
```

### 5. ãƒ‡ãƒãƒƒã‚°ãƒ»ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### ãƒ­ã‚°ç¢ºèª
```bash
# ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
tail -f daytrade_$(date +%Y%m%d).log

# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿè¡Œ
LOG_LEVEL=DEBUG python -m day_trade.cli.main
```

#### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ“ä½œ
```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åˆæœŸåŒ–
python -m day_trade.models.database --reset

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
alembic upgrade head

# ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æŠ•å…¥
python scripts/setup_test_data.py
```

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ
```bash
# ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™ç¢ºèª
python scripts/coverage_goals.py

# ä¾å­˜é–¢ä¿‚åˆ†æ
python scripts/dependency_manager.py --check
```

## âš™ï¸ è¨­å®šã¨ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ä»¥ä¸‹ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½¿ç”¨ã—ã¾ã™ï¼š

- `config/settings.json`: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨èˆ¬è¨­å®š
- `config/indicators_config.json`: ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«æŒ‡æ¨™ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
- `config/signal_rules.json`: ã‚·ã‚°ãƒŠãƒ«ç”Ÿæˆãƒ«ãƒ¼ãƒ«

### ç’°å¢ƒå¤‰æ•°

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š
DATABASE_URL=sqlite:///day_trade.db

# APIã‚­ãƒ¼ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
ALPHA_VANTAGE_API_KEY=your_api_key

# ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«
LOG_LEVEL=INFO
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pytest

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ããƒ†ã‚¹ãƒˆ
pytest --cov=src/day_trade --cov-report=html

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
pytest tests/test_ensemble.py

# è©³ç´°å‡ºåŠ›
pytest -v
```

ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã¯ `htmlcov/index.html` ã§ç¢ºèªã§ãã¾ã™ã€‚

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ

### ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆçµæœä¾‹

```python
# ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆè¨­å®š
config = {
    "start_date": "2024-01-01",
    "end_date": "2024-12-31",
    "initial_capital": 1000000,
    "strategies": ["momentum", "mean_reversion", "volatility"]
}

# çµæœï¼ˆä¾‹ï¼‰
total_return: 15.3%
sharpe_ratio: 1.42
max_drawdown: -8.7%
win_rate: 64.2%
```

### æˆ¦ç•¥ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

| æˆ¦ç•¥ | å¹´é–“ãƒªã‚¿ãƒ¼ãƒ³ | ã‚·ãƒ£ãƒ¼ãƒ—ãƒ¬ã‚·ã‚ª | æœ€å¤§ãƒ‰ãƒ­ãƒ¼ãƒ€ã‚¦ãƒ³ |
|------|-------------|---------------|----------------|
| ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ« | 15.3% | 1.42 | -8.7% |
| ãƒ¢ãƒ¡ãƒ³ã‚¿ãƒ  | 12.1% | 1.18 | -12.3% |
| å¹³å‡å›å¸° | 8.9% | 0.95 | -6.4% |
| ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£ | 11.7% | 1.24 | -9.8% |

## ğŸ”§ é–‹ç™ºè€…å‘ã‘æƒ…å ±

### ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CLI Interface â”‚    â”‚  Web Interface  â”‚    â”‚   API Gateway   â”‚
â”‚  (interactive)  â”‚    â”‚   (future)      â”‚    â”‚   (future)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Core Engine                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Data Manager   â”‚ Analysis Engineâ”‚ Portfolio Mgr â”‚  Trade Manager  â”‚
â”‚                 â”‚               â”‚               â”‚                 â”‚
â”‚ â€¢ Stock Fetcher â”‚ â€¢ Indicators  â”‚ â€¢ Positions   â”‚ â€¢ Order Mgmt    â”‚
â”‚ â€¢ Cache System  â”‚ â€¢ Patterns    â”‚ â€¢ Risk Mgmt   â”‚ â€¢ Execution     â”‚
â”‚ â€¢ DB Management â”‚ â€¢ Ensemble    â”‚ â€¢ Rebalancing â”‚ â€¢ History       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è©³ç´°ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ§‹æˆ

#### 1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å±¤
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Presentation Layer                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   CLI Module    â”‚  Interactive    â”‚      Future Extensions      â”‚
â”‚                 â”‚     Mode        â”‚                             â”‚
â”‚ â€¢ main.py       â”‚ â€¢ rich UI       â”‚ â€¢ Web Dashboard             â”‚
â”‚ â€¢ commands      â”‚ â€¢ prompt_toolkitâ”‚ â€¢ REST API                  â”‚
â”‚ â€¢ formatters    â”‚ â€¢ real-time     â”‚ â€¢ WebSocket                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å±¤
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Business Logic Layer                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Core Module   â”‚ Analysis Module â”‚    Automation Module        â”‚
â”‚                 â”‚                 â”‚                             â”‚
â”‚ â€¢ Portfolio     â”‚ â€¢ Ensemble      â”‚ â€¢ Orchestrator              â”‚
â”‚ â€¢ TradeManager  â”‚ â€¢ Indicators    â”‚ â€¢ Scheduler                 â”‚
â”‚ â€¢ Watchlist     â”‚ â€¢ Patterns      â”‚ â€¢ Report Generator          â”‚
â”‚ â€¢ Alerts        â”‚ â€¢ Backtest      â”‚ â€¢ Auto Screening            â”‚
â”‚ â€¢ Config        â”‚ â€¢ Signals       â”‚ â€¢ Notification System       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Data Access Layer                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Data Module   â”‚ Models Module   â”‚       Utils Module          â”‚
â”‚                 â”‚                 â”‚                             â”‚
â”‚ â€¢ StockFetcher  â”‚ â€¢ Database      â”‚ â€¢ Cache Utils               â”‚
â”‚ â€¢ StockMaster   â”‚ â€¢ Stock Models  â”‚ â€¢ Validators                â”‚
â”‚ â€¢ API Clients   â”‚ â€¢ SQLAlchemy    â”‚ â€¢ Error Handlers            â”‚
â”‚ â€¢ Rate Limiters â”‚ â€¢ Migrations    â”‚ â€¢ Performance Analyzers     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4. å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ é€£æº
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    External Systems                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Data Sources  â”‚   Databases     â”‚       Monitoring            â”‚
â”‚                 â”‚                 â”‚                             â”‚
â”‚ â€¢ yfinance API  â”‚ â€¢ SQLite        â”‚ â€¢ Logging System            â”‚
â”‚ â€¢ Yahoo Finance â”‚ â€¢ PostgreSQL    â”‚ â€¢ Performance Metrics       â”‚
â”‚ â€¢ Alpha Vantage â”‚ â€¢ Redis Cache   â”‚ â€¢ Error Tracking            â”‚
â”‚ â€¢ Future APIs   â”‚ â€¢ File Storage  â”‚ â€¢ Health Checks             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User     â”‚â”€â”€â”€â–¶â”‚     CLI     â”‚â”€â”€â”€â–¶â”‚    Core     â”‚â”€â”€â”€â–¶â”‚  Database   â”‚
â”‚  Commands   â”‚    â”‚  Interface  â”‚    â”‚   Engine    â”‚    â”‚   Storage   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  External   â”‚â—€â”€â”€â”€â”‚    Data     â”‚â—€â”€â”€â”€â”‚  Analysis   â”‚â”€â”€â”€â–¶â”‚   Reports   â”‚
â”‚  APIs       â”‚    â”‚  Fetcher    â”‚    â”‚   Engine    â”‚    â”‚  & Alerts   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯è©³ç´°

#### ã‚³ã‚¢æŠ€è¡“
- **è¨€èª**: Python 3.8+
- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: SQLAlchemy (ORM), Click (CLI), Rich (UI)
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: SQLite (é–‹ç™º), PostgreSQL (æœ¬ç•ªå¯¾å¿œ)
- **API**: yfinance, pandas-datareader

#### é–‹ç™ºãƒ»é‹ç”¨
- **ãƒ†ã‚¹ãƒˆ**: pytest, pytest-cov, unittest.mock
- **å“è³ª**: ruff (lint), mypy (type), bandit (security)
- **CI/CD**: GitHub Actions (æœ€é©åŒ–æ¸ˆã¿)
- **ä¾å­˜ç®¡ç†**: pyproject.toml, pip-tools

### è²¢çŒ®æ–¹æ³•

1. **ãƒ•ã‚©ãƒ¼ã‚¯**: ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. **ãƒ–ãƒ©ãƒ³ãƒä½œæˆ**: `git checkout -b feature/amazing-feature`
3. **ã‚³ãƒŸãƒƒãƒˆ**: `git commit -m 'feat: Add amazing feature'`
4. **ãƒ—ãƒƒã‚·ãƒ¥**: `git push origin feature/amazing-feature`
5. **ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**: ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

è©³ç´°ã¯ [CONTRIBUTING.md](CONTRIBUTING.md) ã‚’ã”è¦§ãã ã•ã„ã€‚

### ã‚³ãƒ¼ãƒ‰å“è³ª

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ã§å“è³ªã‚’ä¿è¨¼ã—ã¦ã„ã¾ã™ï¼š

- **Ruff**: ãƒªãƒ³ã‚¿ãƒ¼ã¨ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
- **MyPy**: å‹ãƒã‚§ãƒƒã‚¯
- **Bandit**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ¤œæŸ»
- **pytest**: ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- **pre-commit**: Git ãƒ•ãƒƒã‚¯

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### ğŸ¯ æ–°è¦å‚ç”»è€…å‘ã‘å­¦ç¿’ãƒ‘ã‚¹

#### ã‚¹ãƒ†ãƒƒãƒ—1: åŸºç¤ç†è§£ï¼ˆ30åˆ†ï¼‰
1. **README.md** - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“æ¦‚è¦
2. **[CONTRIBUTING.md](CONTRIBUTING.md)** - é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
3. **[DEPENDENCY_MANAGEMENT.md](DEPENDENCY_MANAGEMENT.md)** - ä¾å­˜é–¢ä¿‚ã®ç†è§£

#### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ç†è§£ï¼ˆ45åˆ†ï¼‰
1. **[docs/implementation_plan.md](docs/implementation_plan.md)** - è¨­è¨ˆæ€æƒ³
2. **[docs/ensemble_strategy.md](docs/ensemble_strategy.md)** - ã‚³ã‚¢æˆ¦ç•¥
3. **ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ** - ä¸Šè¨˜ã®è©³ç´°èª¬æ˜ã‚’å‚ç…§

#### ã‚¹ãƒ†ãƒƒãƒ—3: å®Ÿè·µé–‹ç™ºï¼ˆ60åˆ†ï¼‰
1. **é–‹ç™ºè€…å‘ã‘ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ** - ä¸Šè¨˜ã‚¬ã‚¤ãƒ‰ã«å¾“ã£ã¦ç’°å¢ƒæ§‹ç¯‰
2. **[docs/interactive_mode.md](docs/interactive_mode.md)** - UIæ©Ÿèƒ½ç†è§£
3. **[TESTING.md](TESTING.md)** - ãƒ†ã‚¹ãƒˆæ‰‹æ³•ã®ç¿’å¾—

#### ã‚¹ãƒ†ãƒƒãƒ—4: é«˜åº¦ãªæ©Ÿèƒ½ï¼ˆ90åˆ†ï¼‰
1. **[docs/transaction_management.md](docs/transaction_management.md)** - DBæ“ä½œ
2. **[docs/structured_logging.md](docs/structured_logging.md)** - ãƒ­ã‚°ç®¡ç†
3. **[docs/api_resilience.md](docs/api_resilience.md)** - è€æ€§è¨­è¨ˆ

### ğŸ“– è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

#### æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- **[ã‚¢ãƒ³ã‚µãƒ³ãƒ–ãƒ«æˆ¦ç•¥](docs/ensemble_strategy.md)** - è¤‡æ•°æŒ‡æ¨™çµ±åˆæˆ¦ç•¥
- **[å®Ÿè£…è¨ˆç”»](docs/implementation_plan.md)** - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ
- **[ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç®¡ç†](docs/transaction_management.md)** - DBæœ€é©åŒ–
- **[APIè€æ€§æ©Ÿèƒ½](docs/api_resilience.md)** - å¤–éƒ¨APIéšœå®³å¯¾å¿œ

#### é‹ç”¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- **[ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰](docs/interactive_mode.md)** - CLIæ“ä½œã‚¬ã‚¤ãƒ‰
- **[æ§‹é€ åŒ–ãƒ­ã‚°](docs/structured_logging.md)** - ãƒ­ã‚°åˆ†æãƒ»ç›£è¦–
- **[ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚¬ã‚¤ãƒ‰](TESTING.md)** - ãƒ†ã‚¹ãƒˆæˆ¦ç•¥
- **[ä¾å­˜é–¢ä¿‚ç®¡ç†](DEPENDENCY_MANAGEMENT.md)** - ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†

#### é–‹ç™ºæ”¯æ´
- **[CONTRIBUTING.md](CONTRIBUTING.md)** - è²¢çŒ®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³
- **[ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](docs/troubleshooting.md)** - å•é¡Œè§£æ±º
- **[é–‹ç™ºè€…ã‚¬ã‚¤ãƒ‰](docs/developer_guide.md)** - é–‹ç™ºãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### ğŸ“ å­¦ç¿’ãƒªã‚½ãƒ¼ã‚¹

#### åˆå¿ƒè€…å‘ã‘
- **PythonåŸºç¤**: [Pythonå…¬å¼ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](https://docs.python.org/ja/3/tutorial/)
- **SQLAlchemy**: [SQLAlchemy Tutorial](https://docs.sqlalchemy.org/en/14/tutorial/)
- **pytest**: [pytest Documentation](https://docs.pytest.org/en/stable/)

#### ä¸­ç´šè€…å‘ã‘
- **ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æ**: [TA-Lib Documentation](https://ta-lib.org/)
- **ãƒ‘ãƒ³ãƒ€ã‚¹**: [pandas User Guide](https://pandas.pydata.org/docs/user_guide/)
- **éåŒæœŸå‡¦ç†**: [asyncio Documentation](https://docs.python.org/3/library/asyncio.html)

#### ä¸Šç´šè€…å‘ã‘
- **æ©Ÿæ¢°å­¦ç¿’**: [scikit-learn Tutorials](https://scikit-learn.org/stable/tutorial/)
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**: [Python Performance Tips](https://wiki.python.org/moin/PythonSpeed)
- **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‘ã‚¿ãƒ¼ãƒ³**: [Clean Architecture](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

1. **ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼**
   ```bash
   # ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’ç¢ºèª
   ping finance.yahoo.com

   # APIã‚­ãƒ¼ã‚’ç¢ºèªï¼ˆå¿…è¦ãªå ´åˆï¼‰
   echo $ALPHA_VANTAGE_API_KEY
   ```

2. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼**
   ```bash
   # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å†åˆæœŸåŒ–
   python -m day_trade.models.database --reset
   ```

3. **ä¾å­˜é–¢ä¿‚ã‚¨ãƒ©ãƒ¼**
   ```bash
   # ä»®æƒ³ç’°å¢ƒã®å†ä½œæˆ
   del venv  # Windows: rmdir /s venv
   python -m venv venv
   venv\Scripts\activate
   pip install -e .[dev]
   ```

### ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°ã¯ä»¥ä¸‹ã®å ´æ‰€ã«ä¿å­˜ã•ã‚Œã¾ã™ï¼š
- `daytrade_YYYYMMDD.log`: æ—¥æ¬¡ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«
- `logs/`: è©³ç´°ãƒ­ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

## ğŸ¤ ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£

- **GitHub Issues**: ãƒã‚°å ±å‘Šãƒ»æ©Ÿèƒ½è¦æ±‚
- **GitHub Discussions**: è³ªå•ãƒ»è­°è«–
- **Pull Requests**: ã‚³ãƒ¼ãƒ‰è²¢çŒ®

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ [MIT License](LICENSE) ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ™ è¬è¾

- **yfinance**: æ ªä¾¡ãƒ‡ãƒ¼ã‚¿APIã®æä¾›
- **pandas**: ãƒ‡ãƒ¼ã‚¿åˆ†æåŸºç›¤
- **SQLAlchemy**: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ORM
- **rich**: ç¾ã—ã„CLIå‡ºåŠ›
- **pytest**: ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

---

**âš ï¸ å…è²¬äº‹é …**: ã“ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã¯æ•™è‚²ãƒ»ç ”ç©¶ç›®çš„ã§æä¾›ã•ã‚Œã¦ã„ã¾ã™ã€‚æŠ•è³‡åˆ¤æ–­ã¯è‡ªå·±è²¬ä»»ã§è¡Œã£ã¦ãã ã•ã„ã€‚é–‹ç™ºè€…ã¯æŠ•è³‡çµæœã«å¯¾ã™ã‚‹è²¬ä»»ã‚’è² ã„ã¾ã›ã‚“ã€‚

**ğŸ“ˆ Happy Trading!** è³ªå•ã‚„ææ¡ˆãŒã‚ã‚Œã°ã€ãŠæ°—è»½ã«Issueã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
## æœ€æ–°ã®æ›´æ–°å±¥æ­´

- ãƒãƒ¼ã‚¸ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã®è§£æ¶ˆã¨æ–°æ©Ÿèƒ½ã®çµ±åˆ
  - å½±éŸ¿ãƒ•ã‚¡ã‚¤ãƒ«: `src/day_trade/analysis/enhanced_ensemble.py`, `src/day_trade/analysis/patterns.py`, `src/day_trade/analysis/signals.py`, `src/day_trade/automation/orchestrator.py`